@prefix : <https://was-course.interactions.ics.unisg.ch/farm-ontology#> .
@prefix wgs: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix hctl: <https://www.w3.org/2019/wot/hypermedia#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix gn: <http://www.geonames.org/ontology#> .
@prefix hmas: <https://purl.org/hmas/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix fn: <http://www.w3.org/2005/xpath-functions#> .
@prefix js: <https://www.w3.org/2019/wot/json-schema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix htv: <http://www.w3.org/2011/http#> .
@prefix td: <https://www.w3.org/2019/wot/td#> .
@prefix path: <http://www.ontotext.com/path#> .
@prefix ex: <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-danai#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix wotsec: <https://www.w3.org/2019/wot/security#> .
@prefix sesame: <http://www.openrdf.org/schema/sesame#> .
@prefix vann: <http://purl.org/vocab/vann/> .
@prefix rdf4j: <http://rdf4j.org/schema/rdf4j#> .

<https://was-course.interactions.ics.unisg.ch/farm-ontology#> a owl:Ontology;
  rdfs:comment "An ontology for representing knowledge useful for the management of farms."@en;
  vann:preferredNamespacePrefix "was" .

vann:preferredNamespacePrefix a owl:AnnotationProperty .

:Farm a owl:Class;
  rdfs:subClassOf _:node198, _:node199;
  rdfs:comment "A plot of land devoted to the growing of crops."@en .

:hasActionAffordance a owl:ObjectProperty;
  rdfs:subPropertyOf owl:topObjectProperty;
  rdfs:range :Affordance .

:Affordance a owl:Class .

:hasCoordinates a owl:ObjectProperty;
  rdfs:subPropertyOf owl:topObjectProperty;
  rdfs:domain :Section .

:Section a owl:Class;
  rdfs:subClassOf _:node208, _:node209 .

:hasCrop a owl:ObjectProperty;
  rdfs:subPropertyOf owl:topObjectProperty;
  rdfs:domain :Section;
  rdfs:range :Crop .

:Crop a owl:Class;
  rdfs:subClassOf _:node197 .

:hasSections a owl:ObjectProperty;
  rdfs:subPropertyOf owl:topObjectProperty;
  rdfs:domain :Farm;
  rdfs:range :Coordinates .

:Coordinates a owl:Class;
  rdfs:comment "A set of 4 coordinates [X1,Y1,X2,Y2] that define the opposite corners of a square section at points [X1,Y1] and [X2,Y2]."@en .

:hasSoilMoisture a owl:ObjectProperty;
  rdfs:subPropertyOf owl:topObjectProperty;
  rdfs:domain :SoilMoisture .

:SoilMoisture a owl:Class;
  rdfs:comment "The level of moisture in soil."@en .

:hasTractors a owl:ObjectProperty;
  rdfs:subPropertyOf owl:topObjectProperty;
  rdfs:range :Tractor .

:Tractor a owl:Class;
  rdfs:comment "An automotive vehicle that offers affordances to agents for managing a farm."@en .

:Corn a owl:Class, owl:NamedIndividual;
  owl:equivalentClass _:node193;
  owl:disjointWith :Wheat .

:Wheat a owl:Class, owl:NamedIndividual;
  owl:equivalentClass _:node210 .

:IrrigateAffordance a owl:Class;
  rdfs:subClassOf :Affordance;
  rdfs:comment "An affordance offerred by the environment to agents for irrigating the soil."@en .

:IrrigationTractor a owl:Class;
  owl:equivalentClass _:node200 .

:ReadSoilMoistureAffordance a owl:Class;
  rdfs:subClassOf :Affordance;
  rdfs:comment "An affordance offerred by the environment to agents for reading the moisture level of soil."@en .

:ReaderTractor a owl:Class;
  owl:equivalentClass _:node204 .

:X1 a owl:NamedIndividual .

:X2 a owl:NamedIndividual .

:Y1 a owl:NamedIndividual .

:Y2 a owl:NamedIndividual .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#farm-1> a
    :Farm;
  hmas:contains <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#tractor-reader>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#tractor-irrigate>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#section-1>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#section-2>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#section-3>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#section-4> .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#tractor-reader>
  a :Tractor, td:Thing;
  hmas:hasProfile <https://raw.githubusercontent.com/Interactions-HSG/example-tds/was/tds/tractor1.ttl>;
  td:title "A tractor that can be used for monitoring the moisture level of soil in a farm.";
  td:hasSecurityConfiguration _:node214;
  td:hasBase <http://localhost:1080/api/tractors/1/>;
  td:hasActionAffordance _:node215 .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#tractor-irrigate>
  a :Tractor, td:Thing;
  hmas:hasProfile <https://raw.githubusercontent.com/Interactions-HSG/example-tds/was/tds/tractor2.ttl>;
  td:title "A tractor that can be used for irrigating sections in a farm.";
  td:hasSecurityConfiguration _:node220;
  td:hasBase <http://localhost:1080/api/tractors/2/>;
  td:hasActionAffordance _:node221 .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#section-1>
  a :Section;
  :hasCoordinates "0,0,1,1";
  hmas:contains <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#crop-1> .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#section-2>
  a :Section;
  :hasCoordinates "1,0,2,1";
  hmas:contains <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#crop-2> .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#section-3>
  a :Section;
  :hasCoordinates "0,1,1,2";
  hmas:contains <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#crop-3> .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#section-4>
  a :Section;
  :hasCoordinates "1,1,2,2";
  hmas:contains <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#crop-4> .

_:node193 a owl:Class;
  owl:intersectionOf _:node194 .

_:node196 a owl:Restriction;
  owl:onProperty :hasSoilMoisture;
  owl:minQualifiedCardinality "80"^^xsd:nonNegativeInteger;
  owl:onClass :SoilMoisture .

_:node197 a owl:Restriction;
  owl:onProperty :hasSoilMoisture;
  owl:someValuesFrom :SoilMoisture .

_:node198 a owl:Restriction;
  owl:onProperty :hasSections;
  owl:someValuesFrom :Section .

_:node199 a owl:Restriction;
  owl:onProperty :hasTractors;
  owl:someValuesFrom :Tractor .

_:node200 a owl:Class;
  owl:intersectionOf _:node201 .

_:node203 a owl:Restriction;
  owl:onProperty :hasActionAffordance;
  owl:allValuesFrom :IrrigateAffordance .

_:node204 a owl:Class;
  owl:intersectionOf _:node205 .

_:node207 a owl:Restriction;
  owl:onProperty :hasActionAffordance;
  owl:allValuesFrom :ReadSoilMoistureAffordance .

_:node208 a owl:Restriction;
  owl:onProperty :hasCrop;
  owl:allValuesFrom :Crop .

_:node209 a owl:Restriction;
  owl:onProperty :hasCoordinates;
  owl:onClass :Coordinates;
  owl:qualifiedCardinality "4"^^xsd:nonNegativeInteger .

_:node210 a owl:Class;
  owl:intersectionOf _:node211 .

_:node213 a owl:Restriction;
  owl:onProperty :hasSoilMoisture;
  owl:minQualifiedCardinality "120"^^xsd:nonNegativeInteger;
  owl:onClass :SoilMoisture .

_:node214 a wotsec:NoSecurityScheme .

_:node215 a :ReadSoilMoistureAffordance, td:ActionAffordance;
  td:name "Read Moisture Level";
  td:hasForm _:node216;
  td:hasInputSchema _:node217;
  td:hasOutputSchema _:node219 .

_:node217 a :Coordinates, js:ArraySchema;
  js:minItems "4"^^xsd:int;
  js:maxItems "4"^^xsd:int;
  js:items _:node218 .

_:node218 a js:IntegerSchema;
  js:minimum "0"^^xsd:int;
  js:maximum "2"^^xsd:int .

_:node219 a :SoilMoisture, js:IntegerSchema .

_:node220 a wotsec:NoSecurityScheme .

_:node221 a :IrrigateAffordance, td:ActionAffordance;
  td:name "Irrigate";
  td:hasForm _:node222;
  td:hasInputSchema _:node223 .

_:node223 a :Coordinates, js:ArraySchema;
  js:minItems "4"^^xsd:int;
  js:maxItems "4"^^xsd:int;
  js:items _:node224 .

_:node224 a js:IntegerSchema;
  js:minimum "0"^^xsd:int;
  js:maximum "2"^^xsd:int .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#crop-1> a
    :Wheat;
  :hasSoilmoisture "120" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#crop-2> a
    :Wheat;
  :hasSoilmoisture "120" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#crop-3> a
    :Corn;
  :hasSoilmoisture "80" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-lukas#crop-4> a
    :Corn;
  :hasSoilmoisture "80" .

owl:topObjectProperty rdfs:domain :Farm .

_:node194 rdf:first :Crop;
  rdf:rest _:node195 .

_:node195 rdf:first _:node196;
  rdf:rest rdf:nil .

_:node201 rdf:first :Tractor;
  rdf:rest _:node202 .

_:node202 rdf:first _:node203;
  rdf:rest rdf:nil .

_:node205 rdf:first :Tractor;
  rdf:rest _:node206 .

_:node206 rdf:first _:node207;
  rdf:rest rdf:nil .

_:node211 rdf:first :Crop;
  rdf:rest _:node212 .

_:node212 rdf:first _:node213;
  rdf:rest rdf:nil .

_:node216 htv:methodName "GET";
  hctl:hasTarget <http://localhost:1080/api/tractors/1/moisture>;
  hctl:forContentType "application/json";
  hctl:hasOperationType td:invokeAction .

_:node222 htv:methodName "PUT";
  hctl:hasTarget <http://localhost:1080/api/tractors/2/sprayer>;
  hctl:forContentType "application/json";
  hctl:hasOperationType td:invokeAction .
